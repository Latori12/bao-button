<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>煲按钮(°ಠ◡ಠ)</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href="favicon.jpg" type="image/jpeg">
</head>

<body>
    <!-- CDN选择界面 - 仅在多个CDN时显示 -->
    <div id="cdnSelectScreen" class="cdn-select-screen" style="display: none;">
        <div class="cdn-select-content">
            <div class="cdn-select-header">
                <h2>选择音频源</h2>
                <p class="cdn-select-desc">请选择一个音频加载源以开始使用</p>
            </div>

            <div class="cdn-options-container" id="cdnOptions">
                <!-- CDN选项会通过JS动态生成 -->
            </div>

            <div class="cdn-select-footer">
                <p class="cdn-note">选择后会开始加载音频资源，首次加载可能需要时间</p>
                <div class="cdn-storage-info">
                    <input type="checkbox" id="rememberCdn" checked>
                    <label for="rememberCdn">记住我的选择（使用浏览器本地存储）</label>
                </div>
            </div>
        </div>
    </div>

    <!-- 加载界面 -->
    <div id="loadingScreen" class="loading-screen" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">正在加载音频资源...</div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="loadingProgress"></div>
                </div>
                <div class="progress-text" id="loadingProgressText">0/0</div>
            </div>
            <div class="loading-note">首次加载可能需要时间，音频会缓存在您的浏览器中</div>
            <div class="loading-cdn-info" id="loadingCdnInfo"></div>
        </div>
    </div>

    <!-- 主界面 -->
    <div id="mainContent" class="main-content" style="display: none;">

        <div class="app-frame">
            <div class="app-shell">

                <!-- 左侧固定栏 -->
                <aside class="sidebar">
                    <button class="sidebar-toggle" id="sidebarToggle" aria-label="收起/展开侧边栏">
                        ❮
                    </button>

                    <nav class="sidebar-nav" id="sidebarNav">
                    </nav>
                    <div class="sidebar-logo">
                        <img src="public/logo.png" alt="logo">
                    </div>
                </aside>

                <!-- 右侧主区域 -->
                <section class="main-area">

                    <!-- 顶部固定条 -->
                    <div class="topbar">

                        <div class="topbar-title">
                            <h1>煲按钮(°ಠ◡ಠ)</h1>
                        </div>

                        <!-- ⚠️ controls 内容原样搬到这里 -->
                        <div class="topbar-controls controls">
                            <button id="randomPlay">随机播放</button>
                            <button id="stopAll">停止所有</button>
                            <label>
                                <input type="checkbox" id="loopMode"> 洗脑循环
                            </label>
                            <button id="changeCdn" class="cdn-change-btn">更换音频源</button>
                        </div>

                    </div>

                    <!-- 右侧可滚动内容区 -->
                    <div class="content" id="contentScroll">

                        <main id="voiceContainer">
                            <!-- 音频按钮仍然由 JS 动态生成 -->
                        </main>

                        <!-- ⚠️ footer 内容原样搬到这里 -->
                        <footer class="app-footer">
                            <div class="footer-content">
                                <div class="footer-section">
                                    <p class="footer-text">
                                        基于
                                        <a href="https://github.com/yandujun363/audio-button-template"
                                            target="_blank"
                                            rel="noopener noreferrer">yandujun363/audio-button-template</a>
                                        制作
                                    </p>
                                </div>

                                <div class="footer-section">
                                    <h3 class="footer-title">使用指南</h3>
                                    <ul class="guide-list">
                                        <li>点击按钮即可播放对应音声</li>
                                        <li>多次点击可以造成相当鬼畜的效果</li>
                                        <li>开启洗脑循环将会一直播放一个音频</li>
                                        <li>如果你开启洗脑循环后一直随意点击按钮<del>广域乱射</del>，造成的后果<strong>主煲与网站作者概不负责</strong></li>
                                    </ul>
                                </div>

                                <div class="footer-section">
                                    <h3 class="footer-title">相关链接</h3>
                                    <a href="https://space.bilibili.com/1978636705" target="_blank"
                                        rel="noopener noreferrer" class="footer-link">
                                        主播空间
                                    </a>
                                    <a href="https://github.com/Latori12/bao-button" target="_blank"
                                        rel="noopener noreferrer" class="footer-link">
                                        项目地址
                                    </a>
                                </div>
                            </div>

                            <div class="footer-bottom">
                                <p class="copyright">© 2026 煲按钮(°ಠ◡ಠ) - 仅供娱乐使用</p>
                            </div>
                        </footer>

                    </div>
                </section>

            </div>
        </div>
    </div>


    <!-- 修改为模块化加载 -->
    <script type="module" src="app.js"></script>

</body>

</html>